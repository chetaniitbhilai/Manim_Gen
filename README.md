
# 🎓 Auto-Animated LaTeX Video Summarizer with Manim + Gemini API

This project automates the creation of animated educational content from YouTube videos. It extracts lecture-style information, converts it to LaTeX using Gemini, generates animations using [Manim](https://www.manim.community/), and merges them into a final video.

> 🔧 Technologies Used: Python · Flask · Manim · Gemini API · LaTeX · YouTube API

---

## 📌 Project Overview

Given a YouTube lecture or explainer video:
1. The video is downloaded and divided into 5-minute **chunks**.
2. Each chunk is transcribed and **semantically parsed** using **Gemini** into XML.
3. The XML is converted to **LaTeX** representations.
4. LaTeX is validated using `pdflatex`. If errors occur, **Gemini** suggests fixes.
5. **Manim** generates an animated scene from the LaTeX code.
6. All chunks are merged into a **final animated video**.

---

## 📂 Repository Structure (Detailed)

### 📁 Frontend & Static Assets

| Path | Description |
|------|-------------|
| `static/samples/` | Sample output videos. Used for demo purposes. |
| `templates/` | HTML templates (`index.html`, `processing.html`, etc.) for Flask web interface. |

---

### 🧠 Core Logic Files

| File | Description |
|------|-------------|
| `app.py` | Flask web server. Handles video submission, tracking progress, and displaying results. |
| `run.py` | Main controller script. Downloads video, splits it, and starts the animation generation pipeline. |
| `run_script.py` | Loops through all chunks, runs `new2.py` on each, and merges final videos. |
| `new2.py` | Core logic to extract text from a video chunk, get Gemini's XML output, convert it to JSON, generate LaTeX and produce the animation using Manim. |

---

### 🪄 LaTeX Generation & Correction

| File | Description |
|------|-------------|
| `latex_generator.py` | Builds the LaTeX document from extracted data, compiles using `pdflatex`, and checks for errors. If errors occur, it attempts fixes using Gemini (up to 3 retries). |
| `latex_error_resolve.py` | Extracts faulty LaTeX lines and asks Gemini for a fixed version. |
| `check.py` | Verifies correctness of LaTeX and logic content before passing to Manim. |
| `repeated.py` | Prevents repeating LaTeX lines from the previous chunk. |
| `prev_latex.txt` | Stores LaTeX lines from the previous chunk for comparison. |
| `all_latex.txt` | Master file storing all LaTeX code generated during processing. |

---

### 🎞️ Video Management

| File | Description |
|------|-------------|
| `chunks.py` | Splits a video into 5-minute chunks using ffmpeg. |
| `generated_scene.py` | The current Manim script that gets generated and run for each chunk. |
| `video_list.txt` | Stores paths of chunk videos for final merge. |
| `clean_up.py` | Deletes all temporary files after processing finishes. |
| `yt_video_downloader.py` | Downloads the full YouTube video using pytube. |

---

### 📄 Other Files

| File | Description |
|------|-------------|
| `requirements.txt` | Python dependencies. |
| `packages.txt` | Extra (optional) LaTeX packages that might be required. |

---

## 🚀 Getting Started

### ✅ 1. Clone the Repository

```bash
git clone https://github.com/yourusername/latex-video-generator.git
cd latex-video-generator
```

---

### 🧪 2. Create a Virtual Environment

```bash
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

---

### 📦 3. Install LaTeX System Packages

```bash
sudo apt update
sudo apt install texlive-latex-base texlive-latex-extra texlive-fonts-recommended texlive-plain-generic -y
```

---

### ▶️ 4. Run the Flask App

```bash
python app.py
```

Then open `http://127.0.0.1:5000/` in your browser.

---

### 🎥 5. Upload and Process Video

- Paste a **YouTube video URL** on the main page.
- Processing will begin automatically.
- Each 5-minute chunk takes about **5 minutes** to process (due to Gemini + Manim).
- Once all chunks are complete, the final video will be available to **view/download**.

---

## 🔄 Workflow Diagram

```plaintext
YouTube URL → run.py
        ↓
Download Video (yt_video_downloader.py)
        ↓
Split into Chunks (chunks.py)
        ↓
For Each Chunk:
    → Extract Content (new2.py)
    → Gemini → XML → JSON → LaTeX
    → Compile LaTeX (latex_generator.py)
        → On Error: latex_error_resolve.py
    → Manim Animation (generated_scene.py)
        → Clean up (clean_up.py)
        → Save Video
        ↓
All Chunks Merged → Final Output
```

---

## 🧪 Example Output

Here’s a preview of the types of animations generated by this pipeline:

> 📍 *(Insert `static/samples` video screenshots or a gif here)*

---

## 🛠️ Potential Improvements

- ✅ Add Gemini API key support via environment variables.
- 🔄 Use async workers (e.g. Celery + Redis) to handle longer queues.
- 🧠 Improve LaTeX semantic generation from Gemini output.
- 📚 Add support for different video types (math, physics, etc.)

---
